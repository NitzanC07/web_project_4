!function(){"use strict";class e{constructor(e,t){this._settings=e,this._formElement=t,this._inputsList=Array.from(this._formElement.querySelectorAll(e.inputSelector)),this._button=this._formElement.querySelector(e.submitButtonSelector)}_showErrorMessage(e,t){const{inputErrorClass:s,errorClass:r}=this._settings;this._errorElement=this._formElement.querySelector(`.${e.id}-error`),this._errorElement.textContent=t,this._errorElement.classList.add(s),e.classList.add(r)}_hideErrorMessage(e){const{inputErrorClass:t,errorClass:s}=this._settings;this._errorElement=this._formElement.querySelector(`.${e.id}-error`),this._errorElement.textContent="",this._errorElement.classList.remove(t),e.classList.remove(s)}_checkInputValidity(e){if(e.validity.valid)this._hideErrorMessage(e);else{const t=e.validationMessage;this._showErrorMessage(e,t)}}_toggleButtonState(){const{inactiveButtonClass:e}=this._settings;this._inputsList.some((e=>!e.validity.valid))?(this._button.classList.add(e),this._button.setAttribute("disabled",!0)):(this._button.classList.remove(e),this._button.removeAttribute("disabled"))}_setEventListeners(){this._inputsList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}enableValidation(){this._formElement.addEventListener("submit",(e=>{})),this._setEventListeners()}resetValidation(){this._toggleButtonState(),this._inputsList.forEach((e=>{this._hideErrorMessage(e)}))}}const t=document.querySelector("#card-template").content,s=document.querySelector(".profile__name"),r=document.querySelector(".profile__avatar-picture"),i=document.querySelector(".profile__description"),n=document.querySelector(".popup__input_content_name"),o=document.querySelector(".popup__input_content_description"),a=document.querySelector(".popup__image"),l=document.querySelector(".popup__image-description");var c=class{constructor(e){this._popup=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this),this._handleClosePopupwWithOverlay=this._handleClosePopupwWithOverlay.bind(this)}_handleEscClose(e){"Escape"===e.key&&this.close()}_handleClosePopupwWithOverlay(e){e.target.classList.contains("popup_open")&&this.close()}setEventListeners(){this._popup.querySelector(".popup__close-button").addEventListener("click",(()=>{this.close()}))}open(){this._popup.classList.add("popup_open"),document.addEventListener("keydown",this._handleEscClose),document.addEventListener("mousedown",this._handleClosePopupwWithOverlay)}close(){this._popup.classList.remove("popup_open"),document.removeEventListener("keydown",this._handleEscClose),document.removeEventListener("mousedown",this._handleClosePopupwWithOverlay)}},d=class extends c{constructor(e,t){super(e),this._submitHandler=t,this._form=this._popup.querySelector(".popup__form"),this._inputs=Array.from(this._form.querySelectorAll(".popup__input")),this._submitButton=this._form.querySelector(".popup__submit-button")}getInputsValues(){const e={};return this._inputs.forEach((t=>{e[t.name]=t.value})),e}setEventListeners(){super.setEventListeners(),this._form.addEventListener("submit",(e=>{e.preventDefault(),this._submitButton.textContent="Saving...",this._submitHandler()}))}close(){super.close(),this._submitButton.textContent="Save",this._form.reset()}};const h=new class{constructor({baseUrl:e,headers:t}){this._baseUrl=e,this._headers=t}customFetch(e,t){return fetch(e,t).then((e=>e.ok?e.json():Promise.reject(e.statusText))).catch((e=>console.log(e)))}getInitialCards(){return this.customFetch(`${this._baseUrl}/cards`,{headers:this._headers,method:"GET"})}getUserInfo(){return this.customFetch(`${this._baseUrl}/users/me`,{headers:this._headers,method:"GET"})}changeAvatar(e){return this.customFetch(`${this._baseUrl}/users/me/avatar`,{headers:this._headers,method:"PATCH",body:JSON.stringify(e)})}setUserInfo(e){return this.customFetch(`${this._baseUrl}/users/me`,{headers:this._headers,method:"PATCH",body:JSON.stringify(e)})}createCard(e){return this.customFetch(`${this._baseUrl}/cards`,{headers:this._headers,method:"POST",body:JSON.stringify(e)})}deleteCard(e){return this.customFetch(`${this._baseUrl}/cards/${e}`,{headers:this._headers,method:"DELETE"})}likeCard(e){return this.customFetch(`${this._baseUrl}/cards/likes/${e}`,{headers:this._headers,method:"PUT"})}dislikeCard(e){return this.customFetch(`${this._baseUrl}/cards/likes/${e}`,{headers:this._headers,method:"DELETE"})}}({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"38a23878-64ce-4abb-ae0d-d30d11cc9a38","Content-Type":"application/json"}});let _;const u={};var p;p={inputSelector:".popup__input",submitButtonSelector:".popup__submit-button",inactiveButtonClass:"popup__submit-button_disable",inputErrorClass:"popup__input_type_error",errorClass:"popup__input_error-visible",formSelector:".popup__form"},Array.from(document.querySelectorAll(p.formSelector)).forEach((t=>{const s=new e(p,t),r=t.getAttribute("name");u[r]=s,s.enableValidation()}));const m=new class extends c{open(e){console.log("card data",e,a,l),super.open(),a.src=e.link,a.alt=e.name,l.textContent=e.name}}(".popup_type_image");m.setEventListeners();const v=new class{constructor({renderer:e},t){this._renderer=e,this._container=document.querySelector(t)}renderer(e){e.forEach((e=>{const t=this._renderer(e);this.addItem(t)}))}addItem(e){this._container.prepend(e)}}({renderer:e=>{const s=new class{constructor({data:e,handleCardClick:t,handleDeleteCard:s,handleLikeIcon:r},i,n){this._template=i,this._name=e.name,this._link=e.link,this._ownerId=e.owner._id,this._handleCardClick=t,this._handleLikeIcon=r,this._handleDeleteCard=s,this._userId=n,this._likes=e.likes,this._cardId=e._id}_setEventListeners(){this._likeButton.addEventListener("click",(()=>this._handleLikeIcon(this._cardId,this._userId,this._likes)));const e=this._card.querySelector(".cards__delete-button");e.addEventListener("click",(()=>this._handleDeleteCard(this._userId))),this._ownerId!==this._userId&&(e.style.display="none");const t={name:this._name,link:this._link};this._card.querySelector(".cards__image").addEventListener("click",(()=>{this._handleCardClick(t)}))}removeCard(){this._card.remove(),this._card=null}likeCard(e){this._likes=e,this._likeButton.classList.add("cards__like-button_active"),this._likesCounter.textContent=this._likes.length}dislikeCard(e){this._likes=e,this._likeButton.classList.remove("cards__like-button_active"),this._likesCounter.textContent=this._likes.length}createCard(){const e=this._template.querySelector(".cards__card").cloneNode(!0),t=e.querySelector(".cards__image");return t.setAttribute("src",this._link),t.setAttribute("alt",this._name),e.querySelector(".cards__header").textContent=this._name,this._card=e,this._likeButton=this._card.querySelector(".cards__like-button"),this._likesCounter=this._card.querySelector(".cards__likes-counter"),this._likesCounter.textContent=this._likes.length,this._likes.some((e=>e._id===this._userId))&&this.likeCard(this._likes),this._setEventListeners(),this._card}}({data:e,handleCardClick:()=>{m.open(e,a,l)},handleLikeIcon:(e,t,r)=>{r.find((e=>e._id===t))?h.dislikeCard(e).then((e=>{s.dislikeCard(e.likes),console.log("Removed like from card: ",e.likes)})).catch((e=>console.log(e))):h.likeCard(e).then((e=>{s.likeCard(e.likes),console.log("Added like to card: ",e.likes)})).catch((e=>console.log(e)))},handleDeleteCard:()=>{C.open(),C.setAction((()=>{h.deleteCard(e._id).then((e=>{console.log("card is deleted",e),s.removeCard()})).catch((e=>console.log(e))),C.close()}))}},t,_);return s.createCard()}},".cards__container");Promise.all([h.getUserInfo(),h.getInitialCards()]).then((([e,t])=>{b.setUserInfo({name:e.name,about:e.about}),b.setUserAvatar(e.avatar),_=e._id,v.renderer(t)})).catch((e=>{console.log(e)}));const C=new class extends c{setAction(e){this._submitHandler=e}setEventListeners(){super.setEventListeners(),this._popup.addEventListener("submit",(e=>{e.preventDefault(),this._submitHandler()}))}}(".popup_type_delete-card");C.setEventListeners();const b=new class{constructor(e,t,s){this._name=e,this._job=t,this._avatar=s}getUserInfo(){return{name:this._name.textContent,about:this._job.textContent}}setUserInfo(e){this._name.textContent=e.name,this._job.textContent=e.about}setUserAvatar(e){this._avatar.style=`background-image: url(${e});`}}(s,i,r),E=new d(".popup_type_edit-profile",(()=>{const e=E.getInputsValues();b.setUserInfo(e),h.setUserInfo(e).then((e=>{console.log("res",e),E.close()})).catch((e=>console.log(e)))}));E.setEventListeners(),document.querySelector(".profile__edit-button").addEventListener("click",(()=>{E.open();const e=b.getUserInfo();n.value=e.name,o.value=e.about,editFormValidator.resetValidation()}));const k=new d(".popup_type_avatar",(()=>{const e=k.getInputsValues();h.changeAvatar(e).then((e=>{b.setUserAvatar(e.avatar),k.close()})).catch((e=>console.log(e)))}));k.setEventListeners(),document.querySelector(".profile__avatar").addEventListener("click",(()=>{k.open(),avatarFormValidator.resetValidation()}));const y=new d(".popup_type_add-card",(()=>{const e=y.getInputsValues();h.createCard(e).then((e=>{v.renderer([e]),y.close()})).catch((e=>console.log(e)))}));y.setEventListeners(),document.querySelector(".profile__add-button").addEventListener("click",(()=>{y.open(),u["add-place"].resetValidation()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WUFBWTZFLEdBQ3JCeEcsRUFBSTJCLFlBQVk2RSxHQUNmaEcsTUFBTUMsSUFDTFEsUUFBUUMsSUFBSSxNQUFPVCxHQUNuQjZGLEVBQWlCekgsV0FFbEJrQyxPQUFNQyxHQUFPQyxRQUFRQyxJQUFJRixRQUs1QnNGLEVBQWlCdEgsb0JBRU1uQixTQUFTL0IsY0FBYyx5QkFDL0IwQixpQkFBaUIsU0FBUyxLQUN2QzhJLEVBQWlCckgsT0FDakIsTUFBTTBHLEVBQVdFLEVBQVN4RSxjQUMxQm5ELEVBQVUyQixNQUFROEYsRUFBUy9GLEtBQzNCekIsRUFBaUIwQixNQUFROEYsRUFBU0csTUFDbENXLGtCQUFrQjlJLHFCQUdwQixNQUFNK0ksRUFBYyxJQUFJSCxFSi9IaUIsc0JJK0h3QixLQUNqRSxNQUFNSSxFQUFZRCxFQUFZaEgsa0JBQzVCTSxFQUFJc0IsYUFBYXFGLEdBQ2RuRyxNQUFNQyxJQUNMb0YsRUFBU0UsY0FBY3RGLEVBQUl1RixRQUMzQlUsRUFBWTdILFdBRWJrQyxPQUFNQyxHQUFPQyxRQUFRQyxJQUFJRixRQUU5QjBGLEVBQVkxSCxvQkFFV25CLFNBQVMvQixjQUFjLG9CQUMvQjBCLGlCQUFpQixTQUFTLEtBQ3ZDa0osRUFBWXpILE9BQ1oySCxvQkFBb0JqSixxQkFJdEIsTUFBTWtKLEVBQW1CLElBQUlOLEVKOUlRLHdCSThJNkIsS0FDaEUsTUFBTTNFLEVBQU9pRixFQUFpQm5ILGtCQUU5Qk0sRUFBSTZCLFdBQVdELEdBQ1pwQixNQUFLc0csSUFDSi9ELEVBQU1DLFNBQVMsQ0FBQzhELElBQ2hCRCxFQUFpQmhJLFdBRWxCa0MsT0FBTUMsR0FBT0MsUUFBUUMsSUFBSUYsUUFHOUI2RixFQUFpQjdILG9CQUVPbkIsU0FBUy9CLGNBQWMsd0JBQy9CMEIsaUJBQWlCLFNBQVMsS0FDeENxSixFQUFpQjVILE9BQ2pCbUQsRUFBZSxhQUFhekUscUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80LW1haW4vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQtbWFpbi8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC1tYWluLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80LW1haW4vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80LW1haW4vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQtbWFpbi8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80LW1haW4vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC1tYWluLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC1tYWluLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80LW1haW4vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhTdWJtaXQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC1tYWluLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gU3ByaW50IDcgLSBwcm9qZWN0IExpdmUgQ29kaW5nLCBMaXphIC0gdGltZSBvbiB2aWRlbzogMDowMCAtIDQwOjAwIG1pbnMuXHJcblxyXG5jbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3RvcihzZXR0aW5ncywgZm9ybUVsZW1lbnQpIHtcclxuICAgIHRoaXMuX3NldHRpbmdzID0gc2V0dGluZ3M7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xyXG4gICAgdGhpcy5faW5wdXRzTGlzdCA9IEFycmF5LmZyb20odGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChzZXR0aW5ncy5pbnB1dFNlbGVjdG9yKSk7XHJcbiAgICB0aGlzLl9idXR0b24gPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKHNldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIF9zaG93RXJyb3JNZXNzYWdlKGlucHV0LCBlcnJvck1lc3NhZ2UpIHtcclxuICAgIGNvbnN0IHsgaW5wdXRFcnJvckNsYXNzLCBlcnJvckNsYXNzIH0gPSB0aGlzLl9zZXR0aW5ncztcclxuICAgIHRoaXMuX2Vycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0LmlkfS1lcnJvcmApO1xyXG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQoaW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGlucHV0LmNsYXNzTGlzdC5hZGQoZXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICBfaGlkZUVycm9yTWVzc2FnZShpbnB1dCkge1xyXG4gICAgY29uc3QgeyBpbnB1dEVycm9yQ2xhc3MsIGVycm9yQ2xhc3MgfSA9IHRoaXMuX3NldHRpbmdzO1xyXG4gICAgdGhpcy5fZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXQuaWR9LWVycm9yYCk7XHJcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoaW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGlucHV0LmNsYXNzTGlzdC5yZW1vdmUoZXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0KSB7XHJcbiAgICBpZiAoIWlucHV0LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGlucHV0LnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gICAgICB0aGlzLl9zaG93RXJyb3JNZXNzYWdlKGlucHV0LCBlcnJvck1lc3NhZ2UpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5faGlkZUVycm9yTWVzc2FnZShpbnB1dCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XHJcbiAgICBjb25zdCB7IGluYWN0aXZlQnV0dG9uQ2xhc3MgfSA9IHRoaXMuX3NldHRpbmdzO1xyXG4gICAgY29uc3QgaXNGb3JtSW52YWxpZCA9IHRoaXMuX2lucHV0c0xpc3Quc29tZShcclxuICAgICAgKGlucHV0RWxlbWVudCkgPT4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZFxyXG4gICAgKTtcclxuICAgIGlmICghaXNGb3JtSW52YWxpZCkge1xyXG4gICAgICB0aGlzLl9idXR0b24uY2xhc3NMaXN0LnJlbW92ZShpbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgdGhpcy5fYnV0dG9uLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fYnV0dG9uLmNsYXNzTGlzdC5hZGQoaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIHRoaXMuX2J1dHRvbi5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCB0cnVlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2lucHV0c0xpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7fSk7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgIHRoaXMuX2lucHV0c0xpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIHRoaXMuX2hpZGVFcnJvck1lc3NhZ2UoaW5wdXRFbGVtZW50KTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHsgRm9ybVZhbGlkYXRvciB9O1xyXG4iLCJleHBvcnQgY29uc3QgY2FyZFRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYXJkLXRlbXBsYXRlXCIpLmNvbnRlbnQ7XG5leHBvcnQgY29uc3QgY2FyZHNDb250YWluZXIgPSBcIi5jYXJkc19fY29udGFpbmVyXCI7XG5cbi8vIEZvcm0gVmFsaWRhdGlvbiBjbGFzc2VzLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IHtcbiAgaW5wdXRTZWxlY3RvcjogXCIucG9wdXBfX2lucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5wb3B1cF9fc3VibWl0LWJ1dHRvblwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19zdWJtaXQtYnV0dG9uX2Rpc2FibGVcIixcbiAgaW5wdXRFcnJvckNsYXNzOiBcInBvcHVwX19pbnB1dF90eXBlX2Vycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0X2Vycm9yLXZpc2libGVcIixcbiAgZm9ybVNlbGVjdG9yOiBcIi5wb3B1cF9fZm9ybVwiXG59O1xuXG5leHBvcnQgY29uc3QgcHJvZmlsZUZvcm1Qb3B1cCA9IFwiLnBvcHVwX19mb3JtX3Byb2ZpbGVcIjtcbmV4cG9ydCBjb25zdCBjaGFuZ2VBdmF0YXJQb3B1cFNlbGVjdG9yID0gXCIucG9wdXBfdHlwZV9hdmF0YXJcIjtcbmV4cG9ydCBjb25zdCBwcm9maWxlRm9ybVBvcHVwU2VsZWN0b3IgPSBcIi5wb3B1cF90eXBlX2VkaXQtcHJvZmlsZVwiO1xuZXhwb3J0IGNvbnN0IGNhcmRGb3JtUG9wdXAgPSBcIi5wb3B1cF9fZm9ybV9hZGQtY2FyZFwiO1xuZXhwb3J0IGNvbnN0IGNhcmRGb3JtUG9wdXBTZWxlY3RvciA9IFwiLnBvcHVwX3R5cGVfYWRkLWNhcmRcIjtcbmV4cG9ydCBjb25zdCBwb3B1cEZvckRlbGV0ZUNhcmQgPSBcIi5wb3B1cF90eXBlX2RlbGV0ZS1jYXJkXCI7XG5leHBvcnQgY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX25hbWVcIik7XG5leHBvcnQgY29uc3QgYXZhdGFyUGljdHVyZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyLXBpY3R1cmVcIik7XG5leHBvcnQgY29uc3QgcHJvZmlsZURlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIlxuKTtcbmV4cG9ydCBjb25zdCBwb3B1cE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbnB1dF9jb250ZW50X25hbWVcIik7XG5leHBvcnQgY29uc3QgcG9wdXBEZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gIFwiLnBvcHVwX19pbnB1dF9jb250ZW50X2Rlc2NyaXB0aW9uXCJcbik7XG5cbi8vIEltYWdlIHBvcHVwLlxuZXhwb3J0IGNvbnN0IHBvcHVwVHlwZUltYWdlU2VsZWN0b3IgPSBcIi5wb3B1cF90eXBlX2ltYWdlXCI7XG4vLyBleHBvcnQgY29uc3QgcG9wdXBUeXBlSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3R5cGVfaW1hZ2VcIik7XG5leHBvcnQgY29uc3QgcG9wdXBJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltYWdlXCIpO1xuZXhwb3J0IGNvbnN0IHBvcHVwSW1hZ2VEZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gIFwiLnBvcHVwX19pbWFnZS1kZXNjcmlwdGlvblwiXG4pO1xuIiwiY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3Ioe2RhdGEsIGhhbmRsZUNhcmRDbGljaywgaGFuZGxlRGVsZXRlQ2FyZCwgaGFuZGxlTGlrZUljb259LCBjYXJkVGVtcGxhdGUsIHVzZXJJZCkge1xyXG4gICAgdGhpcy5fdGVtcGxhdGUgPSBjYXJkVGVtcGxhdGU7XHJcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX293bmVySWQgPSBkYXRhLm93bmVyLl9pZDtcclxuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcclxuICAgIHRoaXMuX2hhbmRsZUxpa2VJY29uID0gaGFuZGxlTGlrZUljb247XHJcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVDYXJkID0gaGFuZGxlRGVsZXRlQ2FyZDtcclxuICAgIHRoaXMuX3VzZXJJZCA9IHVzZXJJZDtcclxuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcclxuICAgIHRoaXMuX2NhcmRJZCA9IGRhdGEuX2lkO1xyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgLy8gTGlrZSBidXR0b25zLlxyXG4gICAgLy8gY29uc3QgbGlrZUJ1dHRvbiA9IHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fbGlrZS1idXR0b25cIik7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLl9oYW5kbGVMaWtlSWNvbih0aGlzLl9jYXJkSWQsIHRoaXMuX3VzZXJJZCwgdGhpcy5fbGlrZXMpKTtcclxuXHJcbiAgICAvLyBEZWxldGUgYnV0dG9ucy5cclxuICAgIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fZGVsZXRlLWJ1dHRvblwiKTtcclxuICAgIGRlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gIHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQodGhpcy5fdXNlcklkKSk7XHJcbiAgICBpZih0aGlzLl9vd25lcklkICE9PSB0aGlzLl91c2VySWQpIHtcclxuICAgICAgZGVsZXRlQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTaG93IGltYWdlIGFzIHBvcHVwLlxyXG4gICAgY29uc3QgY2FyZERhdGEgPSB7IG5hbWU6IHRoaXMuX25hbWUsIGxpbms6IHRoaXMuX2xpbmsgfTtcclxuICAgIHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19faW1hZ2VcIilcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKGNhcmREYXRhKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG4gICAgXHJcbiAgcmVtb3ZlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2NhcmQucmVtb3ZlKCk7XHJcbiAgICB0aGlzLl9jYXJkID0gbnVsbDtcclxuICB9XHJcblxyXG4gIGxpa2VDYXJkKG5ld0xpa2VzKSB7XHJcbiAgICB0aGlzLl9saWtlcyA9IG5ld0xpa2VzO1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiY2FyZHNfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcclxuICAgIHRoaXMuX2xpa2VzQ291bnRlci50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcclxuICB9XHJcbiAgZGlzbGlrZUNhcmQobmV3TGlrZXMpIHtcclxuICAgIHRoaXMuX2xpa2VzID0gbmV3TGlrZXM7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJjYXJkc19fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xyXG4gICAgdGhpcy5fbGlrZXNDb3VudGVyLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xyXG4gIH1cclxuXHJcbiAgY3JlYXRlQ2FyZCgpIHtcclxuICAgIGNvbnN0IGNhcmQgPSB0aGlzLl90ZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19jYXJkXCIpLmNsb25lTm9kZSh0cnVlKTtcclxuICAgIGNvbnN0IGltZyA9IGNhcmQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19faW1hZ2VcIik7XHJcbiAgICBpbWcuc2V0QXR0cmlidXRlKFwic3JjXCIsIHRoaXMuX2xpbmspO1xyXG4gICAgaW1nLnNldEF0dHJpYnV0ZShcImFsdFwiLCB0aGlzLl9uYW1lKTtcclxuXHJcbiAgICBjb25zdCBjYXJkVGl0bGUgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX2hlYWRlclwiKTtcclxuICAgIGNhcmRUaXRsZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcblxyXG4gICAgdGhpcy5fY2FyZCA9IGNhcmQ7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19saWtlLWJ1dHRvblwiKTtcclxuICAgIHRoaXMuX2xpa2VzQ291bnRlciA9IHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fbGlrZXMtY291bnRlclwiKVxyXG4gICAgdGhpcy5fbGlrZXNDb3VudGVyLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoIFxyXG5cclxuICAgIGxldCBpc0xpa2VkID0gdGhpcy5fbGlrZXMuc29tZShwZXJzb24gPT4gcGVyc29uLl9pZCA9PT0gdGhpcy5fdXNlcklkKVxyXG4gICAgaWYgKGlzTGlrZWQpIHtcclxuICAgICAgdGhpcy5saWtlQ2FyZCh0aGlzLl9saWtlcylcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgcmV0dXJuIHRoaXMuX2NhcmQ7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDYXJkO1xyXG4iLCJjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2hhbmRsZUNsb3NlUG9wdXB3V2l0aE92ZXJsYXkgPVxuICAgICAgdGhpcy5faGFuZGxlQ2xvc2VQb3B1cHdXaXRoT3ZlcmxheS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLy8gUHJpdmF0ZSBtZXRob2QgdGhhdCBjbG9zZSBwb3B1cCB3aW5kb3cgYnkgRXNjYXBlIGtleS5cbiAgX2hhbmRsZUVzY0Nsb3NlKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFByaXZhdGUgbWV0aG9kIHRoYXQgY2xvc2UgcG9wdXAgd2luZG93IGJ5IGNsaWNraW5nIG9uIHRoZSBvdmVybGF5LlxuICBfaGFuZGxlQ2xvc2VQb3B1cHdXaXRoT3ZlcmxheShldmVudCkge1xuICAgIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdXBfb3BlblwiKSkge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFB1YmxpYyBtZXRob2QgdGhhdCBhZGRzIGFuIGV2ZW50IGxpc3RlbmVyIHRvIHRoZSBjbG9zZSBpY29uIG9mIHRoZSBwb3B1cC5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgY29uc3QgY2xvc2VCdXR0b24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jbG9zZS1idXR0b25cIik7XG5cbiAgICBjbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gUHVibGljIG1ldGhvZCB0aGF0IG9wZW4gdGhlIHBvcHVwIHdpbmRvdy5cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlblwiKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLl9oYW5kbGVDbG9zZVBvcHVwd1dpdGhPdmVybGF5KTtcbiAgfVxuXG4gIC8vIFB1YmxpYyBtZXRob2QgdGhhdCBjbG9zZSB0aGUgcG9wdXAgd2luZG93LlxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlblwiKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLl9oYW5kbGVDbG9zZVBvcHVwd1dpdGhPdmVybGF5KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQb3B1cDtcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cC5qc1wiO1xyXG5cclxuY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBzdWJtaXRIYW5kbGVyKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTsgLy8gdGhpcy5fcG9wdXBcclxuICAgIHRoaXMuX3N1Ym1pdEhhbmRsZXIgPSBzdWJtaXRIYW5kbGVyO1xyXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XHJcbiAgICB0aGlzLl9pbnB1dHMgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9faW5wdXRcIikpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19zdWJtaXQtYnV0dG9uXCIpO1xyXG4gIH1cclxuXHJcbiAgLy8gUHJpdmF0ZSBtZXRob2Qgd2hpY2ggY29sbGVjdCBkYXRhIGZyb20gYWxsIHRoZSBpbnB1dCBmaWVsZHMuXHJcbiAgZ2V0SW5wdXRzVmFsdWVzKCkge1xyXG4gICAgLy8gY29uc3QgaW5wdXRzID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2lucHV0XCIpKTtcclxuICAgIGNvbnN0IGlucHV0c1ZhbHVlcyA9IHt9O1xyXG4gICAgdGhpcy5faW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGlucHV0c1ZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gaW5wdXRzVmFsdWVzO1xyXG4gIH1cclxuXHJcbiAgLy8gTW9kaWZpZXMgdGhlIHBhcmVudCBtZXRob2QgYW5kIGFkZCBldmVudCBsaXN0ZW5lciB0byBjbG9zZSBpY29uIGFuZCBzdWJtaXQgYnV0dG9uLlxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmluZy4uLlwiO1xyXG4gICAgICB0aGlzLl9zdWJtaXRIYW5kbGVyKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIE1vZGlmaWVzIHRoZSBwYXJlbnQgbWV0aG9kIGluIG9yZGVyIHRvIHJlc2V0IHRoZSBmb3JtIG9uY2UgdGhlIHBvcHVwIGlzIGNsb3NlZC5cclxuICBjbG9zZSgpIHtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmVcIjtcclxuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFBvcHVwV2l0aEZvcm07XHJcbiIsImltcG9ydCAnLi9pbmRleC5jc3MnO1xyXG5pbXBvcnQgeyBGb3JtVmFsaWRhdG9yIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCB7XHJcbiAgY2FyZFRlbXBsYXRlLFxyXG4gIGNvbmZpZyxcclxuICBjYXJkc0NvbnRhaW5lcixcclxuICBwcm9maWxlRm9ybVBvcHVwU2VsZWN0b3IsXHJcbiAgY2FyZEZvcm1Qb3B1cFNlbGVjdG9yLFxyXG4gIHByb2ZpbGVOYW1lLFxyXG4gIHByb2ZpbGVEZXNjcmlwdGlvbixcclxuICBhdmF0YXJQaWN0dXJlLFxyXG4gIHBvcHVwVHlwZUltYWdlU2VsZWN0b3IsXHJcbiAgcG9wdXBOYW1lLFxyXG4gIHBvcHVwRGVzY3JpcHRpb24sXHJcbiAgcG9wdXBGb3JEZWxldGVDYXJkLFxyXG4gIGNoYW5nZUF2YXRhclBvcHVwU2VsZWN0b3IsIFxyXG4gIHBvcHVwSW1hZ2UsXHJcbiAgcG9wdXBJbWFnZURlc2NyaXB0aW9uXHJcbn0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xyXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhTdWJtaXQgZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhTdWJtaXQnO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuXHJcbi8vIFRva2VuOiAzOGEyMzg3OC02NGNlLTRhYmItYWUwZC1kMzBkMTFjYzlhMzggR3JvdXAgSUQ6IGdyb3VwLTEyXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xyXG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS9ncm91cC0xMlwiLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246IFwiMzhhMjM4NzgtNjRjZS00YWJiLWFlMGQtZDMwZDExY2M5YTM4XCIsXHJcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxyXG4gIH1cclxufSk7XHJcblxyXG5sZXQgdXNlcklkO1xyXG5cclxuY29uc3QgZm9ybVZhbGlkYXRvcnMgPSB7fVxyXG5cclxuLy8gRW5hYmxlIHZhbGlkYXRpb25cclxuY29uc3QgZW5hYmxlVmFsaWRhdGlvbiA9IChjb25maWcpID0+IHtcclxuICBjb25zdCBmb3JtTGlzdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuZm9ybVNlbGVjdG9yKSlcclxuICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtRWxlbWVudCkgPT4ge1xyXG4gICAgY29uc3QgdmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBmb3JtRWxlbWVudClcclxuICAgIC8vIENyZWF0ZSB0aGUgbmFtZSBvZiB0aGUgZm9ybVxyXG4gICAgY29uc3QgZm9ybU5hbWUgPSBmb3JtRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ25hbWUnKVxyXG5cclxuICAgLy8gU3RvcmUgYSB2YWxpZGF0b3IgYnkgdGhlIGBuYW1lYCBvZiB0aGUgZm9ybVxyXG4gICAgZm9ybVZhbGlkYXRvcnNbZm9ybU5hbWVdID0gdmFsaWRhdG9yO1xyXG4gICB2YWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG4gIH0pO1xyXG59O1xyXG5lbmFibGVWYWxpZGF0aW9uKGNvbmZpZyk7XHJcblxyXG5jb25zdCBpbWFnZVBvcHVwID0gbmV3IFBvcHVwV2l0aEltYWdlKHBvcHVwVHlwZUltYWdlU2VsZWN0b3IpO1xyXG5pbWFnZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBhZGROZXdDYXJkID0gKGRhdGEpID0+IHtcclxuICBjb25zdCBjYXJkID0gbmV3IENhcmQoe1xyXG4gICAgZGF0YSxcclxuICAgIGhhbmRsZUNhcmRDbGljazogKCkgPT4ge1xyXG4gICAgICBpbWFnZVBvcHVwLm9wZW4oZGF0YSwgcG9wdXBJbWFnZSwgcG9wdXBJbWFnZURlc2NyaXB0aW9uKTtcclxuICAgIH0sXHJcbiAgICBoYW5kbGVMaWtlSWNvbjogKGNhcmRJZCwgdXNlcklkLCBsaWtlc0FycmF5KSA9PiB7XHJcbiAgICAgIGlmICghbGlrZXNBcnJheS5maW5kKHVzZXIgPT4gdXNlci5faWQgPT09IHVzZXJJZCApKSB7XHJcbiAgICAgICAgYXBpLmxpa2VDYXJkKGNhcmRJZClcclxuICAgICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICBjYXJkLmxpa2VDYXJkKHJlcy5saWtlcylcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwiQWRkZWQgbGlrZSB0byBjYXJkOiBcIiwgcmVzLmxpa2VzKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyKSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXBpLmRpc2xpa2VDYXJkKGNhcmRJZClcclxuICAgICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICBjYXJkLmRpc2xpa2VDYXJkKHJlcy5saWtlcylcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwiUmVtb3ZlZCBsaWtlIGZyb20gY2FyZDogXCIsIHJlcy5saWtlcyk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgaGFuZGxlRGVsZXRlQ2FyZDogKCkgPT4ge1xyXG4gICAgICBwb3B1cEFza0ZvckRlbGV0ZS5vcGVuKCk7XHJcbiAgICAgIHBvcHVwQXNrRm9yRGVsZXRlLnNldEFjdGlvbigoKSA9PiB7XHJcbiAgICAgICAgYXBpLmRlbGV0ZUNhcmQoZGF0YS5faWQpXHJcbiAgICAgICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiY2FyZCBpcyBkZWxldGVkXCIsIHJlcyk7XHJcbiAgICAgICAgICAgIGNhcmQucmVtb3ZlQ2FyZCgpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyKSk7XHJcbiAgICAgICAgICBwb3B1cEFza0ZvckRlbGV0ZS5jbG9zZSgpO1xyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH0sIGNhcmRUZW1wbGF0ZSwgdXNlcklkKTtcclxuICByZXR1cm4gY2FyZC5jcmVhdGVDYXJkKCk7XHJcbn07XHJcblxyXG5jb25zdCBjYXJkcyA9IG5ldyBTZWN0aW9uKHsgcmVuZGVyZXI6IGFkZE5ld0NhcmQgfSwgY2FyZHNDb250YWluZXIpO1xyXG5cclxuXHJcblByb21pc2UuYWxsKFthcGkuZ2V0VXNlckluZm8oKSwgYXBpLmdldEluaXRpYWxDYXJkcygpXSlcclxuICAudGhlbigoW3VzZXJEYXRhLCBjYXJkc0RhdGFdKSA9PiB7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhcInVzZXIgZGF0YVwiLCB1c2VyRGF0YSk7XHJcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyh7bmFtZTogdXNlckRhdGEubmFtZSwgYWJvdXQ6IHVzZXJEYXRhLmFib3V0fSk7XHJcbiAgICB1c2VySW5mby5zZXRVc2VyQXZhdGFyKHVzZXJEYXRhLmF2YXRhcik7XHJcbiAgICB1c2VySWQgPSB1c2VyRGF0YS5faWRcclxuICAgIGNhcmRzLnJlbmRlcmVyKGNhcmRzRGF0YSk7XHJcbiAgfSlcclxuICAuY2F0Y2goZXJyID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGVycik7XHJcbn0pO1xyXG5cclxuICBjb25zdCBwb3B1cEFza0ZvckRlbGV0ZSA9IG5ldyBQb3B1cFdpdGhTdWJtaXQocG9wdXBGb3JEZWxldGVDYXJkKTtcclxuICBwb3B1cEFza0ZvckRlbGV0ZS5zZXRFdmVudExpc3RlbmVycygpXHJcblxyXG4vLyBQb3B1cCBmb3IgcHJvZmlsZSBkZXRhaWxzIGZvcm0uXHJcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHByb2ZpbGVOYW1lLCBwcm9maWxlRGVzY3JpcHRpb24sIGF2YXRhclBpY3R1cmUpO1xyXG5jb25zdCBwb3B1cFdpdGhQcm9maWxlID0gbmV3IFBvcHVwV2l0aEZvcm0ocHJvZmlsZUZvcm1Qb3B1cFNlbGVjdG9yLCAoKSA9PiB7XHJcbmNvbnN0IHByb2ZpbGVEYXRhID0gcG9wdXBXaXRoUHJvZmlsZS5nZXRJbnB1dHNWYWx1ZXMoKTtcclxuICB1c2VySW5mby5zZXRVc2VySW5mbyhwcm9maWxlRGF0YSk7XHJcbiAgYXBpLnNldFVzZXJJbmZvKHByb2ZpbGVEYXRhKVxyXG4gIC50aGVuKChyZXMpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKFwicmVzXCIsIHJlcyk7XHJcbiAgICBwb3B1cFdpdGhQcm9maWxlLmNsb3NlKCk7XHJcbiAgfSlcclxuICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG59KTtcclxuXHJcblxyXG5cclxucG9wdXBXaXRoUHJvZmlsZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3Qgb3BlbkVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnV0dG9uXCIpO1xyXG5vcGVuRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIHBvcHVwV2l0aFByb2ZpbGUub3BlbigpO1xyXG4gIGNvbnN0IHVzZXJEYXRhID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcclxuICBwb3B1cE5hbWUudmFsdWUgPSB1c2VyRGF0YS5uYW1lO1xyXG4gIHBvcHVwRGVzY3JpcHRpb24udmFsdWUgPSB1c2VyRGF0YS5hYm91dDtcclxuICBlZGl0Rm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcclxufSk7XHJcblxyXG5jb25zdCBhdmF0YXJQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKGNoYW5nZUF2YXRhclBvcHVwU2VsZWN0b3IsICgpID0+IHsgXHJcbmNvbnN0IGF2YXRhclVybCA9IGF2YXRhclBvcHVwLmdldElucHV0c1ZhbHVlcygpO1xyXG4gIGFwaS5jaGFuZ2VBdmF0YXIoYXZhdGFyVXJsKVxyXG4gICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICB1c2VySW5mby5zZXRVc2VyQXZhdGFyKHJlcy5hdmF0YXIpO1xyXG4gICAgICBhdmF0YXJQb3B1cC5jbG9zZSgpXHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxufSk7XHJcbmF2YXRhclBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBvcGVuRWRpdEF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyXCIpO1xyXG5vcGVuRWRpdEF2YXRhci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGF2YXRhclBvcHVwLm9wZW4oKTtcclxuICBhdmF0YXJGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xyXG59KVxyXG5cclxuLy8gUG9wdXAgZm9yIGFkZCBjYXJkIGZvcm0uXHJcbmNvbnN0IHBvcHVwV2l0aEFkZENhcmQgPSBuZXcgUG9wdXBXaXRoRm9ybShjYXJkRm9ybVBvcHVwU2VsZWN0b3IsICgpID0+IHtcclxuICBjb25zdCBkYXRhID0gcG9wdXBXaXRoQWRkQ2FyZC5nZXRJbnB1dHNWYWx1ZXMoKVxyXG4gIFxyXG4gIGFwaS5jcmVhdGVDYXJkKGRhdGEpXHJcbiAgICAudGhlbihpdGVtID0+IHtcclxuICAgICAgY2FyZHMucmVuZGVyZXIoW2l0ZW1dKTtcclxuICAgICAgcG9wdXBXaXRoQWRkQ2FyZC5jbG9zZSgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyKSk7XHJcbn0pXHJcbiAgXHJcbnBvcHVwV2l0aEFkZENhcmQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IG9wZW5BZGRDYXJkRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKTtcclxub3BlbkFkZENhcmRGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgcG9wdXBXaXRoQWRkQ2FyZC5vcGVuKCk7XHJcbiAgZm9ybVZhbGlkYXRvcnNbXCJhZGQtcGxhY2VcIl0ucmVzZXRWYWxpZGF0aW9uKCk7XHJcbn0pO1xyXG4iLCJjbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKHtiYXNlVXJsLCBoZWFkZXJzfSkge1xyXG4gICAgdGhpcy5fYmFzZVVybCA9IGJhc2VVcmw7XHJcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcclxuICB9XHJcblxyXG4gIGN1c3RvbUZldGNoKHVybCwgaGVhZGVycykge1xyXG4gICAgcmV0dXJuIGZldGNoKHVybCwgaGVhZGVycylcclxuICAgIC50aGVuKHJlcyA9PiByZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QocmVzLnN0YXR1c1RleHQpKVxyXG4gICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG4gIH0gXHJcblxyXG4gIC8vIG90aGVyIG1ldGhvZHMgZm9yIHdvcmtpbmcgd2l0aCB0aGUgQVBJXHJcblxyXG4gIGdldEluaXRpYWxDYXJkcygpIHtcclxuICAgIHJldHVybiB0aGlzLmN1c3RvbUZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgbWV0aG9kOiAnR0VUJyAvLyBkZWZhdWx0IG9wdGlvblxyXG4gICAgfSlcclxuICB9XHJcbiAgXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5jdXN0b21GZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgIG1ldGhvZDogJ0dFVCdcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBjaGFuZ2VBdmF0YXIobmV3QXZhdGFyKSB7XHJcbiAgICByZXR1cm4gdGhpcy5jdXN0b21GZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XHJcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkobmV3QXZhdGFyKVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKGRhdGEpIHtcclxuICAgIHJldHVybiB0aGlzLmN1c3RvbUZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgY3JlYXRlQ2FyZChkYXRhKSB7XHJcbiAgICByZXR1cm4gdGhpcy5jdXN0b21GZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLCBcclxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGRlbGV0ZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gdGhpcy5jdXN0b21GZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycywgXHJcbiAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBsaWtlQ2FyZChjYXJkSWQpIHtcclxuICAgIHJldHVybiB0aGlzLmN1c3RvbUZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLCBcclxuICAgICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGRpc2xpa2VDYXJkKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIHRoaXMuY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xyXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsIFxyXG4gICAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEFwaTsiLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXAuanNcIjtcclxuaW1wb3J0IHsgcG9wdXBEZXNjcmlwdGlvbiwgcG9wdXBJbWFnZSwgcG9wdXBJbWFnZURlc2NyaXB0aW9uIH0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xyXG4vLyBpbXBvcnQgKiBhcyBjb25zdGFudHMgZnJvbSBcIi4uLy4uL3NyYy91dGlscy9jb25zdGFudHMuanNcIjtcclxuXHJcbmNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIG9wZW4oY2FyZERhdGEpIHtcclxuICAgIGNvbnNvbGUubG9nKFwiY2FyZCBkYXRhXCIsIGNhcmREYXRhLCBwb3B1cEltYWdlLCBwb3B1cEltYWdlRGVzY3JpcHRpb24pO1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gICAgcG9wdXBJbWFnZS5zcmMgPSBjYXJkRGF0YS5saW5rO1xyXG4gICAgcG9wdXBJbWFnZS5hbHQgPSBjYXJkRGF0YS5uYW1lO1xyXG4gICAgcG9wdXBJbWFnZURlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gY2FyZERhdGEubmFtZTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFBvcHVwV2l0aEltYWdlO1xyXG4iLCJjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xuICAgIC8vIHRoaXMuX2l0ZW1zID0gaXRlbXM7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgfVxuXG4gIC8vIFB1YmxpYyBtZXRob2QgdGhhdCByZW5kZXJzIGFsbCBlbGVtZW50cyBvbiB0aGUgcGFnZS5cbiAgcmVuZGVyZXIoaXRlbXMpIHtcbiAgICBpdGVtcy5mb3JFYWNoKChjYXJkRGF0YSkgPT4ge1xuICAgICAgY29uc3QgY2FyZCA9IHRoaXMuX3JlbmRlcmVyKGNhcmREYXRhKTtcbiAgICAgIHRoaXMuYWRkSXRlbShjYXJkKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIFB1YmxpYyBtZXRob2QgdGhhdCB0YWtlcyBhIERPTSBlbGVtZW50IGFuZCBhZGRzIGl0IHRvIHRoZSBjb250YWluZXIuXG4gIGFkZEl0ZW0oY2FyZEVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChjYXJkRWxlbWVudCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2VjdGlvbjtcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cC5qc1wiO1xyXG5cclxuY2xhc3MgUG9wdXBXaXRoU3VibWl0IGV4dGVuZHMgUG9wdXAge1xyXG4gIHNldEFjdGlvbihhY3Rpb24pIHtcclxuICAgICAgdGhpcy5fc3VibWl0SGFuZGxlciA9IGFjdGlvbjtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5fc3VibWl0SGFuZGxlcigpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUG9wdXBXaXRoU3VibWl0OyIsImNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3RvcihuYW1lLCBqb2IsIGF2YXRhcikge1xyXG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XHJcbiAgICB0aGlzLl9qb2IgPSBqb2I7XHJcbiAgICB0aGlzLl9hdmF0YXIgPSBhdmF0YXI7XHJcbiAgfVxyXG5cclxuICAvLyBQdWJsaWMgbWV0aG9kIHdoaWNoIHJldHVybnMgYW4gb2JqZWN0IHdpdGggaW5mb3JtYXRpb24gYWJvdXQgdGhlIHVzZXIuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4geyBuYW1lOiB0aGlzLl9uYW1lLnRleHRDb250ZW50LCBhYm91dDogdGhpcy5fam9iLnRleHRDb250ZW50IH07XHJcbiAgfVxyXG5cclxuICAvLyBQdWJsaWMgbWV0aG9kIHdoaWNoIHRha2VzIG5ldyB1c2VyIGRhdGEgYW5kIGFkZHMgaXQgb24gdGhlIHBhZ2UuXHJcbiAgc2V0VXNlckluZm8obmV3RGF0YSkge1xyXG4gICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IG5ld0RhdGEubmFtZTtcclxuICAgIHRoaXMuX2pvYi50ZXh0Q29udGVudCA9IG5ld0RhdGEuYWJvdXQ7XHJcbiAgfVxyXG4gIC8vIFB1YmxpYyBtZXRob2Qgd2hpY2ggaW5wdXQgdGhlIG5ldyBhdmF0YXIgdG8gdGhlIHBhZ2UuXHJcbiAgc2V0VXNlckF2YXRhcihuZXdBdmF0YXIpIHtcclxuICAgIHRoaXMuX2F2YXRhci5zdHlsZSA9IGBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJHtuZXdBdmF0YXJ9KTtgXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBVc2VySW5mbztcclxuIl0sIm5hbWVzIjpbIkZvcm1WYWxpZGF0b3IiLCJjb25zdHJ1Y3RvciIsInNldHRpbmdzIiwiZm9ybUVsZW1lbnQiLCJ0aGlzIiwiX3NldHRpbmdzIiwiX2Zvcm1FbGVtZW50IiwiX2lucHV0c0xpc3QiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5wdXRTZWxlY3RvciIsIl9idXR0b24iLCJxdWVyeVNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfc2hvd0Vycm9yTWVzc2FnZSIsImlucHV0IiwiZXJyb3JNZXNzYWdlIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9lcnJvckVsZW1lbnQiLCJpZCIsInRleHRDb250ZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiX2hpZGVFcnJvck1lc3NhZ2UiLCJyZW1vdmUiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwidmFsaWRpdHkiLCJ2YWxpZCIsInZhbGlkYXRpb25NZXNzYWdlIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsInNvbWUiLCJpbnB1dEVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJmb3JFYWNoIiwiYWRkRXZlbnRMaXN0ZW5lciIsImVuYWJsZVZhbGlkYXRpb24iLCJldnQiLCJyZXNldFZhbGlkYXRpb24iLCJjYXJkVGVtcGxhdGUiLCJkb2N1bWVudCIsImNvbnRlbnQiLCJwcm9maWxlTmFtZSIsImF2YXRhclBpY3R1cmUiLCJwcm9maWxlRGVzY3JpcHRpb24iLCJwb3B1cE5hbWUiLCJwb3B1cERlc2NyaXB0aW9uIiwicG9wdXBJbWFnZSIsInBvcHVwSW1hZ2VEZXNjcmlwdGlvbiIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXAiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwiX2hhbmRsZUNsb3NlUG9wdXB3V2l0aE92ZXJsYXkiLCJldmVudCIsImtleSIsImNsb3NlIiwidGFyZ2V0IiwiY29udGFpbnMiLCJzZXRFdmVudExpc3RlbmVycyIsIm9wZW4iLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiUG9wdXAiLCJzdWJtaXRIYW5kbGVyIiwic3VwZXIiLCJfc3VibWl0SGFuZGxlciIsIl9mb3JtIiwiX2lucHV0cyIsIl9zdWJtaXRCdXR0b24iLCJnZXRJbnB1dHNWYWx1ZXMiLCJpbnB1dHNWYWx1ZXMiLCJuYW1lIiwidmFsdWUiLCJwcmV2ZW50RGVmYXVsdCIsInJlc2V0IiwiYXBpIiwiYmFzZVVybCIsImhlYWRlcnMiLCJfYmFzZVVybCIsIl9oZWFkZXJzIiwiY3VzdG9tRmV0Y2giLCJ1cmwiLCJmZXRjaCIsInRoZW4iLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzVGV4dCIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImdldEluaXRpYWxDYXJkcyIsIm1ldGhvZCIsImdldFVzZXJJbmZvIiwiY2hhbmdlQXZhdGFyIiwibmV3QXZhdGFyIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJzZXRVc2VySW5mbyIsImRhdGEiLCJjcmVhdGVDYXJkIiwiZGVsZXRlQ2FyZCIsImNhcmRJZCIsImxpa2VDYXJkIiwiZGlzbGlrZUNhcmQiLCJhdXRob3JpemF0aW9uIiwidXNlcklkIiwiZm9ybVZhbGlkYXRvcnMiLCJjb25maWciLCJmb3JtU2VsZWN0b3IiLCJ2YWxpZGF0b3IiLCJmb3JtTmFtZSIsImdldEF0dHJpYnV0ZSIsImltYWdlUG9wdXAiLCJjYXJkRGF0YSIsInNyYyIsImxpbmsiLCJhbHQiLCJjYXJkcyIsInJlbmRlcmVyIiwiY29udGFpbmVyU2VsZWN0b3IiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiaXRlbXMiLCJjYXJkIiwiYWRkSXRlbSIsImNhcmRFbGVtZW50IiwicHJlcGVuZCIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZURlbGV0ZUNhcmQiLCJoYW5kbGVMaWtlSWNvbiIsIl90ZW1wbGF0ZSIsIl9uYW1lIiwiX2xpbmsiLCJfb3duZXJJZCIsIm93bmVyIiwiX2lkIiwiX2hhbmRsZUNhcmRDbGljayIsIl9oYW5kbGVMaWtlSWNvbiIsIl9oYW5kbGVEZWxldGVDYXJkIiwiX3VzZXJJZCIsIl9saWtlcyIsImxpa2VzIiwiX2NhcmRJZCIsIl9saWtlQnV0dG9uIiwiZGVsZXRlQnV0dG9uIiwiX2NhcmQiLCJzdHlsZSIsImRpc3BsYXkiLCJyZW1vdmVDYXJkIiwibmV3TGlrZXMiLCJfbGlrZXNDb3VudGVyIiwibGVuZ3RoIiwiY2xvbmVOb2RlIiwiaW1nIiwicGVyc29uIiwibGlrZXNBcnJheSIsImZpbmQiLCJ1c2VyIiwicG9wdXBBc2tGb3JEZWxldGUiLCJzZXRBY3Rpb24iLCJhbGwiLCJ1c2VyRGF0YSIsImNhcmRzRGF0YSIsInVzZXJJbmZvIiwiYWJvdXQiLCJzZXRVc2VyQXZhdGFyIiwiYXZhdGFyIiwiYWN0aW9uIiwiam9iIiwiX2pvYiIsIl9hdmF0YXIiLCJuZXdEYXRhIiwicG9wdXBXaXRoUHJvZmlsZSIsIlBvcHVwV2l0aEZvcm0iLCJwcm9maWxlRGF0YSIsImVkaXRGb3JtVmFsaWRhdG9yIiwiYXZhdGFyUG9wdXAiLCJhdmF0YXJVcmwiLCJhdmF0YXJGb3JtVmFsaWRhdG9yIiwicG9wdXBXaXRoQWRkQ2FyZCIsIml0ZW0iXSwic291cmNlUm9vdCI6IiJ9